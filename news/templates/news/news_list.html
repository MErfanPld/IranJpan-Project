{% extends "_master.html" %}
{% load static %}

{% block title %}اخبار {% endblock title %}

{% block contents %}

<!-- Start Page Banner -->
<div class="page-title-area">
    <div class="container">
        <div class="page-title-content">
            <h2>اخبار </h2>
            <ul>
                <li><a href="{% url 'core:home' %}">خانه</a></li>
                <li>اخبار </li>
            </ul>
        </div>
    </div>
</div>
<!-- End Page Banner -->

<!-- Start News Area -->
<section class="news-area ptb-50">
    <div class="container-fluid">
        <div class="row">
<div class="row">
    {% for news in news_list %}
        <div class="col-lg-3 col-md-6 mb-4 d-flex align-items-stretch">
            <div class="card w-100 h-100 d-flex flex-column">
                {% if news.image %}
                    <img src="{{ news.image.url }}" class="card-img-top img-fluid" alt="{{ news.title }}" style="height: 200px; object-fit: cover;">
                {% endif %}

                <div class="card-body d-flex flex-column">
                    {% if news.category %}
                        <small class="text-muted">{{ news.category.title }}</small>
                    {% endif %}

                    <h5 class="card-title mt-2" style="min-height: 60px;">
                        <a href="{{ news.get_absolute_url }}" class="stretched-link text-decoration-none text-dark">
                            {{ news.title }}
                        </a>
                    </h5>

                    {% if news.short_description %}
                        <p class="card-text mt-auto">{{ news.short_description|truncatechars:120 }}</p>
                    {% endif %}

                    <p class="text-muted mt-2">{{ news.jpublished_at }}</p>
                </div>
            </div>
        </div>
    {% empty %}
        <div class="col-12 text-center">
            <p>هیچ خبری ثبت نشده است.</p>
        </div>
    {% endfor %}
</div>


            <!-- Pagination -->
            {% comment %} <div class="col-lg-12 col-md-12">
                <div class="pagination-area mt-0">
                    {% if page_obj.has_previous %}
                        <a href="?page={{ page_obj.previous_page_number }}" class="prev page-numbers">
                            <i class='bx bx-chevron-left'></i>
                        </a>
                    {% endif %}

                    {% for num in page_obj.paginator.page_range %}
                        {% if page_obj.number == num %}
                            <span class="page-numbers current" aria-current="page">{{ num }}</span>
                        {% else %}
                            <a href="?page={{ num }}" class="page-numbers">{{ num }}</a>
                        {% endif %}
                    {% endfor %}

                    {% if page_obj.has_next %}
                        <a href="?page={{ page_obj.next_page_number }}" class="next page-numbers">
                            <i class='bx bx-chevron-right'></i>
                        </a>
                    {% endif %}

                </div>
            </div> {% endcomment %}

        </div>
    </div>
</section>
<!-- End News Area -->

{% endblock contents %}
